<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
	<meta charset="utf-8"/>
	<title>State, Analysis of</title>
	<meta name="author" content=""/>
</head>
<body>

<h1 id="stateandgoto">State and GOTO</h1>

<p>In this essay, I examine some of the uses of State.</p>

<p>State has been maligned in literature, in the same manner that GOTO has been maligned.</p>

<p>GOTO is used in every programming language — under the hood. Structured Programming showed us how to hide GOTO and to isolate<a href="#fn:1" id="fnref:1" title="see footnote" class="footnote"><sup>1</sup></a> its use.</p>

<p>State is used in threads, among other things.</p>

<p>The problem is not State, but isolation of State.</p>

<p>Another problem with State (and GOTO and Variables and Message Passing, etc.) is lack of code localization. Spaghetti state can be helped by strict nesting<a href="#fn:2" id="fnref:2" title="see footnote" class="footnote"><sup>2</sup></a>, in some instances.</p>

<p>Throwing away all state might not be necessary.</p>

<h1 id="nuanceduseofcase">Nuanced Use of Case</h1>

<h2 id="casevs.types-oop">Case vs. Types - OOP</h2>

<p>One form of state is querying of object types.</p>

<p>This problem was lassoed by Object-Oriented Programming<a href="#fn:3" id="fnref:3" title="see footnote" class="footnote"><sup>3</sup></a>.</p>

<h2 id="casevs.continuations-statecharts">Case vs. Continuations - StateCharts</h2>

<p>CPS - Continuation Passing Style — is another form of GOTO. CPS is more powerful that GOTO.<a href="#fn:4" id="fnref:4" title="see footnote" class="footnote"><sup>4</sup></a></p>

<p>CPS can become unruly when continuations are passed to regions of code that are not local to the origin of the continuation. JavaScript callbacks are an attempt to syntactically nest such uses, but callbacks failed to deliver enough benefits.</p>

<p>Exceptions are another attempt at encapsulating CPS. Exceptions are flawed in that they are declared statically but operate dynamically. The dynamic call-chain determines the control-flow changes caused by exceptions.</p>

<p>GOTO changes control-flow.</p>

<p>OO bundles up data. (Closures also bundle up data).</p>

<p>CPS bundles up and delivers, both, control-flow and data.</p>

<p>StateCharts provide a way to describe non-linear changes to control-flow that retain code locality.</p>

<p>I discuss the original StateCharts paper in
https://guitarvydas.github.io/2020/12/09/StateCharts.html
and
https://guitarvydas.github.io/2021/02/25/statecharts-(again).html</p>

<h2 id="casevs.flags">Case vs. Flags</h2>

<p>PL constructs like
if … then … else … end if
allow code to query state flags with little constraint on how the code is nested.</p>

<p>It is possible to write clear code using such constructs, but such structuring tends to be rare. Note, that it is, also, possible, to write clear code in assembly language, including all forms of 1st class functions, etc., but, code in general, needs to be constrained with syntactic sugar.</p>

<h1 id="functionsandfunctionalprogramming">Functions and Functional Programming</h1>

<p>FP (functional programming) is but one way to structure code.</p>

<p>FP limits the available paradigms to, mostly, a one-in and one-out style. Various extensions to FP include exceptions and full-blown use of CPS, e.g. in Denotational Semantics, but, the results are increasingly less readable.</p>

<p>FP works by prohibiting changes of state — this creates isolation between functions and allows manipulation of the notation.</p>

<p>It should be noted that UNIX® processes also create isolation between blocks of code — no data nor control-flow can escape the boundaries of a process.</p>

<div class="footnotes">
<hr />
<ol>

<li id="fn:1">
<p>Isolation is like encapsulation, but includes control&#8211;flow. <a href="#fnref:1" title="return to body" class="reversefootnote">&#160;&#8617;&#xfe0e;</a></p>
</li>

<li id="fn:2">
<p>As seen with the solutions for Global Variables, Structured Programming, etc. <a href="#fnref:2" title="return to body" class="reversefootnote">&#160;&#8617;&#xfe0e;</a></p>
</li>

<li id="fn:3">
<p>Bertrand Meyer pointed this out. <a href="#fnref:3" title="return to body" class="reversefootnote">&#160;&#8617;&#xfe0e;</a></p>
</li>

<li id="fn:4">
<p>And, therefore, CPS is more dangerous that GOTO. <a href="#fnref:4" title="return to body" class="reversefootnote">&#160;&#8617;&#xfe0e;</a></p>
</li>

</ol>
</div>

<script src="https://utteranc.es/client.js" 
        repo="guitarvydas/guitarvydas.github.io" 
        issue-term="pathname" 
        theme="github-light" 
        crossorigin="anonymous" 
        async> 
</script> 
</body>
</html>

